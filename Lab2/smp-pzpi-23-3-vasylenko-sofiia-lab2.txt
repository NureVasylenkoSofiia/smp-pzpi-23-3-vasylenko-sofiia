Міністерство освіти і науки України
Харківський національний університет радіоелектроніки


Кафедра Програмної інженерії



Звіт
З лабораторної роботи №2
з дисципліни «Скриптові мови програмування»









Виконала									     Перевірив
ст.гр ПЗПІ-23-3							ст. в. Сокорчук І.П.
Василенко С.О.





Харків 2025
1 ІСТОРІЯ ЗМІН
№	Дата	Версія звіту	Опис змін та виправлень
1	08.06.2025	       0.1	Повна реалізація звіту 
















 
2 ЗАВДАННЯ
2.1 Постановка задачі
Потрібно створити консольний застосунок «Продовольчий магазин "Весна"».
Ім'я скрипта: ~/імʼя_облікового_запису-task3.php
Наприклад: ~/pzpi-27-15-shukhevych-roman-task3.php
Програма після запуску повинна вивести на термінал перелік можливих дій:

################################
# ПРОДОВОЛЬЧИЙ МАГАЗИН "ВЕСНА" #
################################
1 Вибрати товари
2 Отримати підсумковий рахунок
3 Налаштувати свій профіль
0 Вийти з програми
Введіть команду: _
Далі програма очікує введення значення з клавіатури. Якщо користувач вводить число, якого немає в списку можливих команд, необхідно вивести повідомлення про помилку і запропонувати користувачу ввести інше число:
Введіть команду: 4
ПОМИЛКА! Введіть правильну команду
1 Вибрати товари
2 Отримати підсумковий рахунок
3 Налаштувати свій профіль
0 Вийти з програми
Введіть команду: _
Щоб розпочати купувати товари, необхідно ввести число «1», після чого користувач повинен потрапити в режим закупівлі товарів.
На екрані має з’явитися перелік продуктів, де кожен рядок складається з номера, назви товару і його вартості, наприклад:

Введіть команду: 1
№  НАЗВА                 ЦІНА
1  Молоко пастеризоване  12
2  Хліб чорний           9
3  Сир білий             21
4  Сметана 20%           25
5  Кефір 1%              19
6  Вода газована         18
7  Печиво "Весна"        14
   -----------
0  ПОВЕРНУТИСЯ
Виберіть товар: _
Щоб купити товар, необхідно ввести його номер.
Після успішної перевірки на існування номера товару в списку, програма має попросити ввести кількість товару:

Виберіть товар: 2
Вибрано: Хліб чорний
Введіть кількість, штук: 1
У КОШИКУ:
НАЗВА        КІЛЬКІСТЬ
Хліб чорний  1
Якщо номер товару і його кількість (менше 100 шт.) були вказані коректно, то товар додається в кошик.
Якщо вказано кількість «0», то товар видаляється з кошика:

Виберіть товар: 2
Вибрано: Хліб чорний
Введіть кількість, штук: 0
ВИДАЛЯЮ З КОШИКА
КОШИК ПОРОЖНІЙ
Далі знову відображається перелік товарів і пропонується купити наступний товар.
Якщо номер товару вказано неправильно, виводиться сповіщення про помилку, нову виводиться перелік товарів:

№  НАЗВА                 ЦІНА
1  Молоко пастеризоване  12
2  Хліб чорний           9
3  Сир білий             21
4  Сметана 20%           25
5  Кефір 1%              19
6  Вода газована         18
7  Печиво "Весна"        14
   -----------
0  ПОВЕРНУТИСЯ
Виберіть товар: 8
ПОМИЛКА! ВКАЗАНО НЕПРАВИЛЬНИЙ НОМЕР ТОВАРУ
Щоб завершити купувати товари і перейти до попереднього меню, необхідно ввести з клавіатури цифру «0».
Щоб отримати підсумковий рахунок, потрібно ввести число «2».
Рахунок має містити таку інформацію: №, назва, ціна товару, кількість товару, вартість товару. 
У кінці чека має бути: РАЗОМ ДО CПЛАТИ: сума_за_всі_товари
Наприклад:
Введіть команду: 2
№  НАЗВА                 ЦІНА  КІЛЬКІСТЬ  ВАРТІСТЬ
1  Печиво "Весна"        14    1          14
2  Молоко пастеризоване  12    2          24
3  Сметана 20%           25    1          25
4  Хліб чорний           9     1          9
РАЗОМ ДО CПЛАТИ: 72
Щоб встановити свій профіль потрібно, ввести число «3», після чого програма попросить ввести ваше ім'я та ваш вік:
 
Ваше імʼя: _
Ваш вік: _
Імʼя користувача не може бути порожнім і повинно містити хоча б одну літеру.
Користувач не може бути молодшим 7-ми або старшим 150-ти років
Щоб завершити роботу та вийти з програми, потрібно ввести число «0».
У програмі потрібно перевіряти інформацію, яку вводить користувач, а саме:
-	обраний пункт меню існує;
-	обраний товар існує;
-	введена кількість товару більша нуля;
-	імʼя користувача містить хча б одну літеру;
-	вік користувача становить від 7-ми до 150-ти років.
 
3 ОПИС ВИКОНАНОЇ РОБОТИ 
3.1 Хід роботи
Програма починається з визначення асоціативного масиву товарів, де кожен товар має назву та ціну. Це основа для подальшої роботи з вибором і кошиком. 
 4  $products = [
 5      1 => ['name' => 'Молоко пастеризоване', 'price' => 12],
 6      2 => ['name' => 'Хліб чорний', 'price' => 9],
 7      3 => ['name' => 'Сир білий', 'price' => 21],
 8      4 => ['name' => 'Сметана 20%', 'price' => 25],
 9      5 => ['name' => 'Кефір 1%', 'price' => 19],
10      6 => ['name' => 'Вода газована', 'price' => 18],
11      7 => ['name' => 'Печиво "Весна"', 'price' => 14],
12  ];

Змінні $cart, $userName та $userAge використовуються для збереження вибраних товарів і персональної інформації користувача.

14  $cart = [];
15  $userName = null;
16  $userAge = null;

Функція виводить головне текстове меню, яке пропонує користувачу вибір дій — від перегляду товарів до виходу з програми.

18  function showMenu() {
19      echo "################################\n";
20      echo "# ПРОДОВОЛЬЧИЙ МАГАЗИН \"ВЕСНА\" #\n";
21      echo "################################\n";
22      echo "1 Вибрати товари\n";
23      echo "2 Отримати підсумковий рахунок\n";
24      echo "3 Налаштувати свій профіль\n";
25      echo "0 Вийти з програми\n";
26      echo "Введіть команду: ";
27  }

Функція отримує введення з клавіатури та обрізає зайві пробіли. Забезпечує зручне читання даних користувача.

29  function getInput(): string {
30      return trim(fgets(STDIN));
31  }

Функція виводить список товарів із зазначенням номера та ціни. Дозволяє користувачу бачити доступні товари для додавання до кошика.

33  function showProducts($products) {
34      echo "№  НАЗВА                 ЦІНА\n";
35      foreach ($products as $id => $product) {
36          printf("%-2d %-21s %4d\n", $id, $product['name'], $product['price']);
37      }
38      echo "   -----------\n";
39      echo "0  ПОВЕРНУТИСЯ\n";
40      echo "Виберіть товар: ";
41  }


Функція показує вміст кошика — назви товарів та кількість. Використовується після кожної зміни у кошику.

43  function showCart($cart, $products) {
44      if (empty($cart)) {
45          echo "КОШИК ПОРОЖНІЙ\n";
46          return;
47      }
48      echo "У КОШИКУ:\nНАЗВА                КІЛЬКІСТЬ\n";
49      foreach ($cart as $id => $qty) {
50          printf("%-20s %d\n", $products[$id]['name'], $qty);
51      }
52  }

Функція генерує та показує підсумковий чек, включаючи вартість кожного товару та загальну суму до сплати.

54  function showReceipt($cart, $products) {
55      if (empty($cart)) {
56          echo "КОШИК ПОРОЖНІЙ\n";
57          return;
58      }
59      echo "№  НАЗВА                 ЦІНА  КІЛЬКІСТЬ  ВАРТІСТЬ\n";
60      $i = 1;
61      $total = 0;
62      foreach ($cart as $id => $qty) {
63          $price = $products[$id]['price'];
64          $cost = $price * $qty;
65          printf("%-2d %-21s %5d %9d %9d\n", $i++, $products[$id]['name'], $price, $qty, $cost);
66          $total += $cost;
67      }
68      echo "РАЗОМ ДО CПЛАТИ: $total\n";
69  }

Головний цикл рганізовує роботу програми, повторюючи показ меню та виконання команд, поки користувач не завершить програму.
 
ВИСНОВКИ
У ході виконання лабораторної роботи було створено консольний застосунок на мові PHP для моделювання роботи продовольчого магазину. Було реалізовано функціонал вибору товарів, ведення кошика, формування підсумкового чеку та налаштування профілю користувача. Робота продемонструвала основи структурування коду та використання функцій для підвищення зручності й читабельності програми.
 
ДОДАТОК А
Відеозапис
Відеозапис презентації результатів лабораторної роботи: https://youtu.be/MkT5DiRFktI
Хронологічний опис відеозапису:
00:00 – Представлення
00:13 – Опис завдання
02:34 – Тестування 
03:58 – Розбір коду
 
ДОДАТОК В
Програмний код
 GitHub репозиторій: https://github.com/NureVasylenkoSofiia/smp-pzpi-23-3-vasylenko-sofiia/blob/main/Lab2/smp-pzpi-23-3-vasylenko-sofiia-lab2/smp-pzpi-23-3-vasylenko-sofiia-lab2-code/smp-pzpi-23-3-vasylenko-sofiia-lab2-code.php
 1  <?php
 2  
 3  // Масив товарів
 4  $products = [
 5      1 => ['name' => 'Молоко пастеризоване', 'price' => 12],
 6      2 => ['name' => 'Хліб чорний', 'price' => 9],
 7      3 => ['name' => 'Сир білий', 'price' => 21],
 8      4 => ['name' => 'Сметана 20%', 'price' => 25],
 9      5 => ['name' => 'Кефір 1%', 'price' => 19],
10      6 => ['name' => 'Вода газована', 'price' => 18],
11      7 => ['name' => 'Печиво "Весна"', 'price' => 14],
12  ];
13  
14  $cart = [];
15  $userName = null;
16  $userAge = null;
17  
18  function showMenu() {
19      echo "################################\n";
20      echo "# ПРОДОВОЛЬЧИЙ МАГАЗИН \"ВЕСНА\" #\n";
21      echo "################################\n";
22      echo "1 Вибрати товари\n";
23      echo "2 Отримати підсумковий рахунок\n";
24      echo "3 Налаштувати свій профіль\n";
25      echo "0 Вийти з програми\n";
26      echo "Введіть команду: ";
27  }
28  
29  function getInput(): string {
30      return trim(fgets(STDIN));
31  }
32  
33  function showProducts($products) {
34      echo "№  НАЗВА                 ЦІНА\n";
35      foreach ($products as $id => $product) {
36          printf("%-2d %-21s %4d\n", $id, $product['name'], $product['price']);
37      }
38      echo "   -----------\n";
39      echo "0  ПОВЕРНУТИСЯ\n";
40      echo "Виберіть товар: ";
41  }
42  
43  function showCart($cart, $products) {
44      if (empty($cart)) {
45          echo "КОШИК ПОРОЖНІЙ\n";
46          return;
47      }
48      echo "У КОШИКУ:\nНАЗВА                КІЛЬКІСТЬ\n";
49      foreach ($cart as $id => $qty) {
50          printf("%-20s %d\n", $products[$id]['name'], $qty);
51      }
52  }
53  
54  function showReceipt($cart, $products) {
55      if (empty($cart)) {
56          echo "КОШИК ПОРОЖНІЙ\n";
57          return;
58      }
59      echo "№  НАЗВА                 ЦІНА  КІЛЬКІСТЬ  ВАРТІСТЬ\n";
60      $i = 1;
61      $total = 0;
62      foreach ($cart as $id => $qty) {
63          $price = $products[$id]['price'];
64          $cost = $price * $qty;
65          printf("%-2d %-21s %5d %9d %9d\n", $i++, $products[$id]['name'], $price, $qty, $cost);
66          $total += $cost;
67      }
68      echo "РАЗОМ ДО CПЛАТИ: $total\n";
69  }
70  
71  function setupProfile(&$userName, &$userAge) {
72      do {
73          echo "Ваше імʼя: ";
74          $userName = trim(fgets(STDIN));
75      } while (!preg_match('/\p{L}/u', $userName));
76  
77      do {
78          echo "Ваш вік: ";
79          $userAge = (int)trim(fgets(STDIN));
80      } while ($userAge < 7 || $userAge > 150);
81  
82      echo "Дані профілю оновлено\n";
83  }
84  
85  do {
86      showMenu();
87      $command = getInput();
88  
89      switch ($command) {
90          case '1':
91              do {
92                  showProducts($products);
93                  $choice = (int)getInput();
94                  if ($choice === 0) break;
95  
96                  if (!isset($products[$choice])) {
97                      echo "ПОМИЛКА! ВКАЗАНО НЕПРАВИЛЬНИЙ НОМЕР ТОВАРУ\n";
98                      continue;
99                  }
100 
101                 echo "Вибрано: {$products[$choice]['name']}\n";
102                 echo "Введіть кількість, штук: ";
103                 $qty = (int)getInput();
104 
105                 if ($qty < 0 || $qty >= 100) {
106                     echo "ПОМИЛКА! НЕВІРНА КІЛЬКІСТЬ\n";
107                     continue;
108                 }
109 
110                 if ($qty === 0) {
111                     unset($cart[$choice]);
112                     echo "ВИДАЛЯЮ З КОШИКА\n";
113                 } else {
114                     $cart[$choice] = $qty;
115                 }
116 
117                 showCart($cart, $products);
118 
119             } while (true);
120             break;
121 
122         case '2':
123             showReceipt($cart, $products);
124             break;
125 
126         case '3':
127             setupProfile($userName, $userAge);
128             break;
129 
130         case '0':
131             echo "До побачення!\n";
132             exit;
133 
134         default:
135             echo "ПОМИЛКА! Введіть правильну команду\n";
136     }
137 
138 } while (true);

